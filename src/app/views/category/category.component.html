<div class="sidebar" data-color="purple" data-background-color="white" >
  <!--
    Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"
-->
  <div class="logo row">
    <div  class=" col-8">
      <a href="#" class="simple-text logo-normal">
      Kategorie
      </a>
    </div>
    <div class="col-4">
      <button mat-icon-button  aria-label="add category" (click)="addCategory()">
        <mat-icon>add</mat-icon>
      </button>
    </div>
  </div>

  <div class="sidebar-wrapper">

    <ul class="nav">
      <div class="search-category-area">
        <mat-form-field class="example-full-width">
          <input
            matInput
            [(ngModel)]="searchCategory" (keydown.escape)="searchCategory=''"
            (keyup)="onFilter()"
            placeholder="Szukaj kategorie">
        </mat-form-field>
      </div>
      <li class="nav-item" (click)="onCategoryClick()" [class.active]="selectedCategoryId===null">
        <a class="nav-link" href="#">
          <span class="all-category-title">Wszystko </span>
          <span class="uncompleted-count" *ngIf="totalUncompleted>0">{{totalUncompleted}}</span>
        </a>
      </li>
      <div class="line"></div>
      <li
        class="nav-item pointer"
        [class.active]="category.id===selectedCategoryId"
        *ngFor="let category of categories ; let index = index"
        (click)="onCategoryClick(category)"
        (mouseleave)="showEditIcon(null)"
        (mouseenter)="showEditIcon(index)"
      >
        <a class="nav-link">
          <span class="category-title">{{category.title}}</span>
          <span
            class="edit-category-icon-area"
            mat-icon-button
             (click)="$event.stopPropagation(); onEdit(category)"
          >
            <mat-icon
              class="edit-category-icon"
              *ngIf="indexMouseMove===index">edit</mat-icon>
          </span>
          <span class="uncompleted-count" *ngIf="category.uncompleted>0">{{category.uncompleted}}</span>
        </a>
      </li>
    </ul>
  </div>
</div>
